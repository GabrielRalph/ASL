<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <video id = "videoElement" width="640" height="480" autoplay playsinline muted></video>
</body>
<script type = "module">
    import {BarSlider} from "./dataCreator/data-creator.js"
    document.body.appendChild(new BarSlider())
//     import {
//     HandLandmarker,
//     FilesetResolver
//   } from "https://cdn.jsdelivr.net/npm/@mediapipe/tasks-vision@0.10.0";
//   import * as WC from "./webcam.js"

//     let handLandmarker = null;
// let videoElement = document.getElementById('videoElement'); // Your video element
// let runningMode = 'video';  // Set this to "video" mode

// const createHandLandmarker = async () => {
//     try {
//         const vision = await FilesetResolver.forVisionTasks(
//             "https://cdn.jsdelivr.net/npm/@mediapipe/tasks-vision@0.10.0/wasm"
//         );

//         // Initialize the hand landmarker in video mode
//         handLandmarker = await HandLandmarker.createFromOptions(vision, {
//             baseOptions: {
//                 modelAssetPath: `https://storage.googleapis.com/mediapipe-models/hand_landmarker/hand_landmarker/float16/1/hand_landmarker.task`,
//                 delegate: "CPU" // Use CPU for Safari
//             },
//             runningMode: runningMode, // Set to video mode for continuous processing
//             numHands: 2
//         });

//         // Start the video processing
//         // processVideoFrame();
//     } catch (error) {
//         console.error("Error creating HandLandmarker:", error);
//     }
// };

// createHandLandmarker();

// // Function to process each frame
// WC.setProcess(async ({video}) => {
//     console.log("here");
//     if (handLandmarker && videoElement.readyState >= 2) {
//         // Run the hand landmark model on the current video frame
//         const results =  handLandmarker.detectForVideo(video, performance.now());

//         // Log or process the hand landmark results
//         console.log(results);

//         // Call this function again for the next video frame
//     }
//     requestAnimationFrame(processVideoFrame);
// })

// await WC.startWebcam();
// videoElement.srcObject = WC.getStream();
// WC.startProcessing();

// // Call this to start everything
// startVideoStream();
</script>
<style>
    body {
        background: black;
    }
      .bar-slider .bar {
        fill: #ff8400;
        stroke: white;
        stroke-width: 0.5;
    }

    .bar-slider .fill-bar {
        stroke: white;
        stroke-width: 0.5;
        fill: #f8dabb;
    }

    .bar-slider .outline {
        stroke: white;
        stroke-width: 0.5;
        fill: none;
    }
</style>
</html>